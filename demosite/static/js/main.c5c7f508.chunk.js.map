{"version":3,"sources":["common/Loading.tsx","assets/utils/http.ts","pages/search/Search.tsx","common/BreadCrumb.tsx","common/button/PrimaryButton.ts","assets/images/playbg.png","hooks/useWindowSize.tsx","assets/js/const.ts","common/button/NormalButton.ts","common/BackButton.tsx","common/context/ConfigContext.ts","pages/replay/RePlay.tsx","assets/images/logo.svg","hooks/ScrollToTop.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["DataLoading","className","type","color","height","width","instance","axios","create","baseURL","headers","interceptors","request","use","config","error","Promise","reject","response","console","info","status","resolve","Swal","fire","message","url","params","JSON","stringify","undefined","log","success","msg","SearchType","VideoType","BreadCrumb","props","breadcrumbList","pageName","useState","showMenu","setShowMenu","onClick","Breadcrumbs","separator","fontSize","maxItems","aria-label","map","element","index","isLink","href","window","location","name","Typography","style","transform","PrimaryButton","withStyles","root","boxShadow","textTransform","fontWeight","padding","border","backgroundColor","borderColor","borderRadius","Button","useWindowSize","windowSize","setWindowSize","useEffect","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","TIME_INTERVAL","QUICK_SEARCH_LIST","value","momentFormatData","time","isInput","spanTime","formatStr","tmpTime","indexOf","Date","replace","setSeconds","getSeconds","moment","format","buildDateRangeList","startDateParam","stopDateParam","dateArray","currentDate","stopDate","push","add","useStyles","makeStyles","theme","createStyles","container","display","flexWrap","textField","marginLeft","spacing","marginRight","Search","classes","size","id","match","resultList","setResultList","ALL","videoType","setVideoType","QUICK","searchType","setSearchType","timeRange","setTimeRange","loading","setLoading","imgWidth","setImgWidth","imgRatio","setImgRatio","nextToken","setNextToken","hasNextToken","setHasNextToken","buildDateStop","setBuildDateStop","preciseStart","setPreciseStart","preciseEnd","setPreciseEnd","currentTime","getVideoList","useCallback","loadMore","curTimeParam","timeRangeParam","startTimeParam","endTimeParam","pageSize","camera","interval","trackTime","startTime","endTime","Axios","get","qs","encode","then","res","data","prev","catch","err","loadMoreAllVideoList","curDateTime","newStopTime","trueNewStopTime","loadMoreDateArr","tmpResList","forEach","faces","imageData","buildAllVideoImageList","loadmore","tmpEndTime","initDateArr","Math","floor","FACE","RadioGroup","onChange","event","target","FormControlLabel","control","Radio","label","classNames","active","PRECISE","TextField","defaultValue","InputProps","inputProps","max","InputLabelProps","shrink","Loading","initialLoad","hasMore","loader","borderTop","to","parse","face","left","top","src","PlayBg","NormalButton","BackToList","history","useHistory","text","toPath","pathname","ConfigContext","React","createContext","address","RePlay","useContext","BackButton","autoPlay","controls","withRouter","unlisten","listen","scrollTo","Loader","App","loadingConfig","setLoadingConfig","appConfig","setAppConfig","timeStamp","getTime","Provider","logo","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c5c7f508.chunk.js","sourcesContent":["import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst DataLoading: React.FC = () => {\n  return (\n    <div className=\"loading-style\">\n      <Loader type=\"ThreeDots\" color=\"#444444\" height={50} width={50} />\n    </div>\n  );\n};\n\nexport default DataLoading;\n","import axios from 'axios';\n\nimport Swal from 'sweetalert2';\n\nconst instance = axios.create({\n  baseURL: 'https://sqmfgk98mf.execute-api.cn-northwest-1.amazonaws.com.cn/',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\ninstance.interceptors.request.use(\n  (config) => {\n    return config;\n  },\n  function (error) {\n    return Promise.reject(error);\n  },\n);\n\ninstance.interceptors.response.use(\n  (response) => {\n    console.info('response:', response);\n    if (response.status === 401 || response.status === 403) {\n      // Redirect to Authing Login\n      return Promise.reject('401 User Unauthorized');\n    } else {\n      if (response) {\n        return Promise.resolve(response);\n      } else {\n        return Promise.reject('response error');\n      }\n    }\n  },\n  (error) => {\n    console.info('ERR:', error.response);\n    // Swal.fire(error.message);\n    Swal.fire(\n      `${error.message}`,\n      `${error.response?.config?.url} \\n ${\n        error.response?.config?.params ? JSON.stringify(error?.response?.config?.params) : ''\n      }`,\n      undefined,\n    );\n    console.log('-- error --');\n    console.error(error);\n    console.log('-- error --');\n    return Promise.reject({\n      success: false,\n      msg: error,\n    });\n  },\n);\n\nexport default instance;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport qs from 'qs';\nimport InfiniteScroll from 'react-infinite-scroller';\n\nimport classNames from 'classnames';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\n\nimport Loading from 'common/Loading';\nimport Axios from 'assets/utils/http';\nimport BreadCrumb from 'common/BreadCrumb';\n// import BackButton from 'common/BackButton';\nimport PrimaryButton from 'common/button/PrimaryButton';\nimport PlayBg from 'assets/images/playbg.png';\n\nimport useWindowSize from 'hooks/useWindowSize';\n\nimport {\n  TIME_INTERVAL,\n  TRACK_TIME,\n  QUICK_SEARCH_LIST,\n  momentFormatData,\n  IMG_ORGIN_WIDTH,\n  IMG_SPAN,\n  buildDateRangeList,\n} from 'assets/js/const';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap',\n    },\n    textField: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n      // width: 180,\n    },\n  }),\n);\n\ninterface MatchParams {\n  id: string;\n}\n\ninterface ResultType {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  faces: string;\n  time: string;\n  imageData: string;\n}\n\nenum SearchType {\n  QUICK = 'quick',\n  PRECISE = 'precise',\n}\n\nenum VideoType {\n  ALL = 'all',\n  FACE = 'face',\n}\n\nconst PAGE_SIZE = 12;\n\nconst Search: React.FC<RouteComponentProps<MatchParams>> = (props) => {\n  const classes = useStyles();\n\n  const size = useWindowSize();\n  // eslint-disable-next-line react/prop-types\n  const id = props.match.params.id;\n  const [resultList, setResultList] = useState<ResultType[]>([]);\n  const [videoType, setVideoType] = useState<string>(VideoType.ALL);\n  const [searchType, setSearchType] = useState(SearchType.QUICK);\n  const [timeRange, setTimeRange] = useState(TRACK_TIME);\n  const [loading, setLoading] = useState(false);\n  const [imgWidth, setImgWidth] = useState<number>(0);\n  const [imgRatio, setImgRatio] = useState(1);\n  const [nextToken, setNextToken] = useState<string | undefined>(undefined);\n  const [hasNextToken, setHasNextToken] = useState(true);\n  // const [isLoading, setIsLoading] = useState(false);\n  const [buildDateStop, setBuildDateStop] = useState('');\n\n  const [preciseStart, setPreciseStart] = useState(momentFormatData(new Date(), true, -3 * 60 * 60));\n  const [preciseEnd, setPreciseEnd] = useState(momentFormatData(new Date(), true));\n  const currentTime = momentFormatData(new Date(), false, -3600 * 8);\n\n  const getVideoList = useCallback(\n    (loadMore = false) => {\n      const curTimeParam = currentTime;\n      const timeRangeParam = timeRange;\n      const startTimeParam = momentFormatData(preciseStart, false, -8 * 3600);\n      const endTimeParam = momentFormatData(preciseEnd, false, -8 * 3600);\n\n      console.info('loadMore:', loadMore);\n      if (loadMore) {\n        if (hasNextToken === false) {\n          return;\n        }\n      } else {\n        setResultList([]);\n        setLoading(true);\n      }\n\n      const params = {\n        pageSize: PAGE_SIZE,\n        type: searchType,\n        camera: id,\n        interval: TIME_INTERVAL,\n        currentTime: curTimeParam,\n        trackTime: timeRangeParam,\n        startTime: startTimeParam,\n        endTime: endTimeParam,\n        nextToken: loadMore === false || hasNextToken === false ? undefined : nextToken,\n      };\n      Axios.get(\n        // `/snapshot?camera=${id}&interval=${TIME_INTERVAL}&currentTime=${curTimeParam}&trackTime=${timeRangeParam}`,\n        `/snapshot?${qs.stringify(params, { encode: false })}`,\n      )\n        .then((res) => {\n          setLoading(false);\n          if (res.data.nextToken) {\n            setHasNextToken(true);\n          } else {\n            setHasNextToken(false);\n          }\n          if (loadMore) {\n            setNextToken(res.data.nextToken);\n            setResultList((prev) => {\n              return [...prev, ...res.data.data];\n            });\n          } else {\n            setResultList(res.data.data);\n          }\n        })\n        .catch((err) => {\n          console.error(err);\n          setLoading(false);\n        });\n    },\n    [timeRange, preciseStart, preciseEnd, searchType, hasNextToken, nextToken],\n  );\n\n  const loadMoreAllVideoList = useCallback(() => {\n    console.info('loadMoreAllVideoList');\n    console.info('buildDateStop:', buildDateStop);\n    const curDateTime = momentFormatData(new Date(), false, -8 * 3600);\n    const newStopTime = momentFormatData(buildDateStop, false, TIME_INTERVAL * PAGE_SIZE);\n\n    // if (newStopTime >= curDateTime) {\n    //   setHasNextToken(false);\n    //   return;\n    // }\n    const trueNewStopTime = newStopTime < curDateTime ? newStopTime : curDateTime;\n    setBuildDateStop(trueNewStopTime);\n    console.info('trueNewStopTime:', trueNewStopTime);\n    console.info('curDateTime:', curDateTime);\n    if (buildDateStop >= curDateTime) {\n      setHasNextToken(false);\n      return;\n    }\n    const loadMoreDateArr = buildDateRangeList(buildDateStop, trueNewStopTime);\n    console.info('loadMoreDateArr:', loadMoreDateArr);\n    const tmpResList: ResultType[] = [];\n    loadMoreDateArr.forEach((element, index) => {\n      if (index > 0) {\n        tmpResList.push({\n          faces: '[]',\n          imageData: '',\n          time: element,\n        });\n      }\n    });\n    setResultList((prev) => {\n      return [...prev, ...tmpResList];\n    });\n  }, [buildDateStop]);\n\n  // build All Video Image List\n  const buildAllVideoImageList = (loadmore = false) => {\n    if (!loadmore) {\n      // setResultList([]);\n      const startTime = momentFormatData(new Date(), false, -(timeRange + 8 * 3600));\n      const tmpEndTime = momentFormatData(new Date(), false, -(timeRange + 8 * 3600) + TIME_INTERVAL * (PAGE_SIZE - 1));\n      setBuildDateStop(tmpEndTime);\n      const initDateArr = buildDateRangeList(startTime, tmpEndTime);\n      const tmpResList: ResultType[] = [];\n      initDateArr.forEach((element) => {\n        tmpResList.push({\n          faces: '[]',\n          imageData: '',\n          time: element,\n        });\n      });\n      setResultList(tmpResList);\n    }\n  };\n\n  // Monitor Page Size\n  useEffect(() => {\n    if (size.width > 768) {\n      setImgWidth(Math.floor((size.width - (30 * 2 + 40)) / 5));\n    } else {\n      setImgWidth(Math.floor((size.width - (30 * 2 + 20 + size.width * 0.01)) / 3));\n    }\n  }, [size]);\n\n  useEffect(() => {\n    setImgRatio(imgWidth / IMG_ORGIN_WIDTH);\n  }, [imgWidth]);\n\n  // Video Type Changed\n  useEffect(() => {\n    console.info('videoType:', videoType);\n    setHasNextToken(true);\n    setNextToken(undefined);\n    setResultList([]);\n    if (videoType === VideoType.FACE) {\n      getVideoList();\n    }\n    if (videoType === VideoType.ALL) {\n      buildAllVideoImageList();\n    }\n  }, [videoType]);\n\n  return (\n    <div>\n      <BreadCrumb\n        breadcrumbList={[\n          {\n            isLink: false,\n            name: '录像列表',\n          },\n        ]}\n      />\n      <div className=\"content\">\n        <div className=\"page-title\">\n          录像列表\n          <div className=\"back-button\">{/* <BackButton href=\"/\" text=\"返回首页\" /> */}</div>\n        </div>\n\n        <div>\n          <div className=\"no-show\">选择您需要的录像类型</div>\n          <div className=\"no-show\">\n            <RadioGroup\n              aria-label=\"gender\"\n              name=\"gender1\"\n              value={videoType}\n              onChange={(event) => {\n                setVideoType(event.target.value);\n              }}\n            >\n              <FormControlLabel\n                value={VideoType.ALL}\n                control={<Radio size=\"small\" color=\"primary\" />}\n                label=\"所有录像\"\n              />\n              <FormControlLabel\n                value={VideoType.FACE}\n                control={<Radio size=\"small\" color=\"primary\" />}\n                label=\"所有包含人脸的录像\"\n              />\n            </RadioGroup>\n          </div>\n          <div>\n            <div className=\"search-tab\">\n              <span\n                className={classNames('tab', { active: searchType === SearchType.QUICK })}\n                onClick={() => {\n                  setSearchType(SearchType.QUICK);\n                  if (videoType === VideoType.FACE) {\n                    getVideoList();\n                  }\n                }}\n              >\n                快速查询\n              </span>\n              <span\n                className={classNames('tab', { active: searchType === SearchType.PRECISE })}\n                onClick={() => {\n                  setSearchType(SearchType.PRECISE);\n                  if (videoType === VideoType.FACE) {\n                    getVideoList();\n                  }\n                }}\n              >\n                精确查询\n              </span>\n            </div>\n            <div className=\"search-tab-content\">\n              {searchType === SearchType.QUICK && (\n                <div className=\"quick-search-list\">\n                  {QUICK_SEARCH_LIST.map((element, index) => {\n                    return (\n                      <div\n                        className={classNames('quick-search-item', { active: timeRange === element.value })}\n                        key={index}\n                        onClick={() => {\n                          setHasNextToken(true);\n                          setNextToken(undefined);\n                          setTimeRange(element.value);\n                        }}\n                      >\n                        {element.name}\n                      </div>\n                    );\n                  })}\n                </div>\n              )}\n              {searchType === SearchType.PRECISE && (\n                <div className=\"precise-search\">\n                  <div>\n                    <TextField\n                      size=\"small\"\n                      id=\"datetime-local\"\n                      label=\"开始时间\"\n                      type=\"datetime-local\"\n                      defaultValue={preciseStart}\n                      className={classes.textField}\n                      onChange={(event) => {\n                        setPreciseStart(event.target.value);\n                      }}\n                      InputProps={{ inputProps: { max: momentFormatData(new Date(preciseEnd), true) } }}\n                      InputLabelProps={{\n                        shrink: true,\n                      }}\n                    />\n                  </div>\n                  <div>\n                    <TextField\n                      size=\"small\"\n                      id=\"datetime-local\"\n                      label=\"结束时间\"\n                      type=\"datetime-local\"\n                      defaultValue={preciseEnd}\n                      className={classes.textField}\n                      InputProps={{ inputProps: { max: momentFormatData(new Date(), true) } }}\n                      onChange={(event) => {\n                        setPreciseStart(event.target.value);\n                        setPreciseEnd(event.target.value);\n                      }}\n                      InputLabelProps={{\n                        shrink: true,\n                      }}\n                    />\n                  </div>\n                </div>\n              )}\n              <div className=\"search\">\n                <PrimaryButton\n                  onClick={() => {\n                    if (videoType === VideoType.FACE) {\n                      setNextToken(undefined);\n                      setHasNextToken(true);\n                      getVideoList();\n                    }\n                    if (videoType === VideoType.ALL) {\n                      buildAllVideoImageList();\n                    }\n                  }}\n                >\n                  搜索记录\n                </PrimaryButton>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {loading ? (\n          <div className=\"loading\">\n            <Loading />\n          </div>\n        ) : (\n          <div className=\"ipc-video-list\">\n            {/* <div className=\"result-info\">搜索结果：共找到{resultList.length}条录像</div> */}\n            <div className=\"result-info\">搜索结果：查询到以下录像</div>\n            {/* <div>\n              <button\n                onClick={() => {\n                  getVideoList(true);\n                }}\n              >\n                加载更多\n              </button>\n            </div> */}\n            <div className=\"videos\">\n              <InfiniteScroll\n                className=\"video-more\"\n                initialLoad={false}\n                // pageStart={0}\n                loadMore={() => {\n                  console.info('load More');\n                  if (videoType === VideoType.FACE) {\n                    getVideoList(true);\n                  }\n                  if (videoType === VideoType.ALL) {\n                    loadMoreAllVideoList();\n                  }\n                }}\n                hasMore={true}\n                loader={\n                  hasNextToken ? (\n                    <div className=\"loader\" key={0}>\n                      加载中 ...\n                    </div>\n                  ) : (\n                    <div style={{ borderTop: '1px solid #eee' }} className=\"loader\" key={1}>\n                      我是有底线的\n                    </div>\n                  )\n                }\n              >\n                {resultList.map((element, index) => {\n                  return (\n                    <div className=\"ipc-video\" key={index}>\n                      <Link to={`/play/camera/${element.time}`}>\n                        <div className=\"image\">\n                          {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            JSON.parse(element.faces).map((face: Array<any>, index: number) => {\n                              const left = (face[0] - IMG_SPAN) * imgRatio;\n                              const top = (face[1] - IMG_SPAN) * imgRatio;\n                              const width = (face[2] - face[0] + IMG_SPAN) * imgRatio;\n                              const height = (face[3] - face[1] + IMG_SPAN) * imgRatio;\n                              return (\n                                <div\n                                  key={index}\n                                  className=\"human\"\n                                  style={{ left: left, top: top, width: width, height: height }}\n                                ></div>\n                              );\n                            })\n                          }\n                          <img\n                            width=\"100%\"\n                            src={element.imageData ? `data:image/jpeg;base64,${element.imageData}` : PlayBg}\n                          />\n                        </div>\n                        <div className=\"time\">{momentFormatData(element.time, false, 8 * 3600)}</div>\n                      </Link>\n                    </div>\n                  );\n                })}\n              </InfiniteScroll>\n              {/* {resultList.map((element, index) => {\n                return (\n                  <div className=\"ipc-video\" key={index}>\n                    <Link to={`/play/${id}/${element.time}`}>\n                      <div className=\"image\">\n                        {\n                          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                          JSON.parse(element.faces).map((face: Array<any>, index: number) => {\n                            const left = (face[0] - IMG_SPAN) * imgRatio;\n                            const top = (face[1] - IMG_SPAN) * imgRatio;\n                            const width = (face[2] - face[0] + IMG_SPAN) * imgRatio;\n                            const height = (face[3] - face[1] + IMG_SPAN) * imgRatio;\n                            return (\n                              <div\n                                key={index}\n                                className=\"human\"\n                                style={{ left: left, top: top, width: width, height: height }}\n                              ></div>\n                            );\n                          })\n                        }\n                        <img\n                          width=\"100%\"\n                          src={element.imageData ? `data:image/jpeg;base64,${element.imageData}` : Camera}\n                        />\n                      </div>\n                      <div className=\"time\">{momentFormatData(element.time, false, 8 * 3600)}</div>\n                    </Link>\n                  </div>\n                );\n              })} */}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n","import React, { useState } from 'react';\n\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport Typography from '@material-ui/core/Typography';\nimport MLink from '@material-ui/core/Link';\n\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport CloseIcon from '@material-ui/icons/Close';\n\ninterface BreadCrumbType {\n  name: string;\n  isLink: boolean;\n  href?: string;\n}\n\ninterface PropsType {\n  pageName?: string;\n  breadcrumbList: BreadCrumbType[];\n}\n\nconst BreadCrumb: React.FC<PropsType> = (props: PropsType) => {\n  const { breadcrumbList, pageName } = props;\n  // function handleClick(event: React.MouseEvent<HTMLAnchorElement, MouseEvent>) {\n  //   event.preventDefault();\n  //   console.info('You clicked a breadcrumb.');\n  // }\n  const [showMenu, setShowMenu] = useState(false);\n  return (\n    <div>\n      <div className=\"breadcrumb\">\n        <div className=\"icon\">\n          <MenuIcon\n            onClick={() => {\n              setShowMenu(false);\n            }}\n          />\n        </div>\n        <div className=\"bread\">\n          <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\" />} maxItems={2} aria-label=\"breadcrumb\">\n            {breadcrumbList.map((element, index) => {\n              return element.isLink ? (\n                <MLink\n                  key={index}\n                  color=\"inherit\"\n                  href={element.href}\n                  onClick={() => {\n                    window.location.href = element.href ? element.href : '/#/';\n                  }}\n                >\n                  {element.name}\n                </MLink>\n              ) : (\n                <Typography key={index} color=\"textPrimary\">\n                  {element.name}\n                </Typography>\n              );\n            })}\n          </Breadcrumbs>\n        </div>\n        <div className=\"icon\">\n          <ErrorOutlineIcon style={{ transform: 'rotate(180deg)' }} />\n        </div>\n      </div>\n      (\n      {showMenu && (\n        <div className=\"side-menu\">\n          <div className=\"title\">\n            智能摄像头演示{' '}\n            <div\n              onClick={() => {\n                setShowMenu(false);\n              }}\n              className=\"close\"\n            >\n              <CloseIcon />\n            </div>\n          </div>\n          <div className=\"menu\">\n            <div>\n              <a className={pageName === 'DEVICE' ? 'active' : ''} href=\"/#/\">\n                设备管理\n              </a>\n            </div>\n            <div>\n              <a className={pageName === 'LIVE' ? 'active' : ''} href=\"/#/live\">\n                直播\n              </a>\n            </div>\n          </div>\n        </div>\n      )}\n      )\n    </div>\n  );\n};\n\nexport default BreadCrumb;\n","import Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst PrimaryButton = withStyles({\n  root: {\n    color: '#fff',\n    boxShadow: 'none',\n    textTransform: 'none',\n    fontSize: 14,\n    fontWeight: 'bold',\n    padding: '5px 15px',\n    border: '1px solid',\n    // lineHeight: 1.5,\n    backgroundColor: '#EC7211',\n    borderColor: '#EC7211',\n    borderRadius: 0,\n    '&:hover': {\n      backgroundColor: '#EC7211',\n      borderColor: '#EC7211',\n      boxShadow: 'none',\n    },\n    '&:active': {\n      boxShadow: 'none',\n      backgroundColor: '#EC7211',\n      borderColor: '#EC7211',\n    },\n    '&:focus': {\n      boxShadow: '0 0 0 0.2rem rgba(213, 67, 5,.5)',\n    },\n  },\n})(Button);\n\nexport default PrimaryButton;\n","export default __webpack_public_path__ + \"static/media/playbg.3be50ee9.png\";","import { useState, useEffect } from 'react';\n\ninterface WindowSizeProp {\n  width: number;\n  height: number;\n}\n\nconst useWindowSize = (): WindowSizeProp => {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState<WindowSizeProp>({\n    width: 0,\n    height: 0,\n  });\n\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n\n    // Add event listener\n    window.addEventListener('resize', handleResize);\n\n    // Call handler right away so state gets updated with initial window size\n    handleResize();\n\n    // Remove event listener on cleanup\n    return () => window.removeEventListener('resize', handleResize);\n  }, []); // Empty array ensures that effect is only run on mount\n\n  return windowSize;\n};\n\nexport default useWindowSize;\n","import moment from 'moment';\n\nexport const LIVE_VIDEO_URL = 'https://sqmfgk98mf.execute-api.cn-northwest-1.amazonaws.com.cn/playlist.m3u8';\nexport const REPLAY_VIDEO_URL = 'https://sqmfgk98mf.execute-api.cn-northwest-1.amazonaws.com.cn/replay.m3u8';\n\nexport const IMG_ORGIN_WIDTH = 1920;\nexport const IMG_SPAN = 20;\n\nexport const TIME_INTERVAL = 600; // unit seconds\nexport const TRACK_TIME = 60 * 60 * 3; // unit hour\n\nexport const QUICK_SEARCH_LIST = [\n  // { name: '最近1小时', value: 1 * 60 * 60 },\n  { name: '最近3小时', value: 3 * 60 * 60 },\n  { name: '1天内', value: 24 * 60 * 60 },\n  { name: '2天内', value: 2 * 24 * 60 * 60 },\n  { name: '7天', value: 7 * 24 * 60 * 60 },\n];\n\n// export const dateToChinaZone = (time: Date): number => {\n//   // 这里需要加上8小时，转换成北京时间\n//   return time.setSeconds(time.getSeconds() + 3600 * 8);\n// };\n\n// export const dateToStandardZone = (time: Date): number => {\n//   // 这里需要减去8小时，转换成标准时间\n//   return time.setSeconds(time.getSeconds() - 3600 * 8);\n// };\n\nexport const momentFormatData = (time: Date | string, isInput = false, spanTime = 0): string => {\n  let formatStr = 'yyyy-MM-DD HH:mm:ss';\n  if (isInput) {\n    formatStr = 'yyyy-MM-DDTHH:mm';\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  let tmpTime: any = time;\n  if (typeof time === 'string' && time.indexOf('T') < 0) {\n    tmpTime = new Date(time.replace(/-/g, '/'));\n  } else {\n    tmpTime = new Date(time);\n  }\n\n  if (spanTime !== 0) {\n    tmpTime = tmpTime.setSeconds(new Date(tmpTime).getSeconds() + spanTime);\n  }\n  return moment(new Date(tmpTime)).format(formatStr);\n};\n\nexport const buildDateRangeList = (startDateParam: string, stopDateParam: string): string[] => {\n  const dateArray: string[] = [];\n  let currentDate = moment(startDateParam);\n  const stopDate = moment(stopDateParam);\n  while (currentDate <= stopDate) {\n    dateArray.push(moment(currentDate).format('YYYY-MM-DD HH:mm:ss'));\n    currentDate = moment(currentDate).add(TIME_INTERVAL, 'seconds');\n  }\n  return dateArray;\n};\n","import Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst NormalButton = withStyles({\n  root: {\n    color: '#545b64',\n    boxShadow: 'none',\n    textTransform: 'none',\n    fontSize: 14,\n    fontWeight: 'bold',\n    padding: '5px 15px',\n    border: '1px solid',\n    // lineHeight: 1.5,\n    backgroundColor: '#ffffff',\n    // borderColor: \"#545b64\",\n    borderRadius: 0,\n    '&:hover': {\n      backgroundColor: '#ffffff',\n      borderColor: '#545b64',\n      boxShadow: 'none',\n    },\n    '&:active': {\n      boxShadow: 'none',\n      backgroundColor: '#ffffff',\n      borderColor: '#545b64',\n    },\n    '&:focus': {\n      boxShadow: '0 0 0 0.2rem rgba(255, 255, 255,.5)',\n    },\n  },\n})(Button);\n\nexport default NormalButton;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport NormalButton from './button/NormalButton';\n\ninterface BackBtnProps {\n  href: string;\n  text: string;\n}\n\nconst BackToList: React.FC<BackBtnProps> = (props: BackBtnProps) => {\n  const history = useHistory();\n\n  const { href, text } = props;\n\n  const backToList = () => {\n    const toPath = href;\n    history.push({\n      pathname: toPath,\n    });\n  };\n  return (\n    <div className=\"back-to-list\">\n      <NormalButton onClick={backToList}>{text}</NormalButton>\n    </div>\n  );\n};\n\nexport default BackToList;\n","import React from 'react';\nexport interface ConfigProps {\n  address: string;\n}\nconst ConfigContext = React.createContext<ConfigProps>({ address: '' });\nexport default ConfigContext;\n","import React from 'react';\nimport ReactPlayer from 'react-player/file';\n\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport { TIME_INTERVAL, momentFormatData } from 'assets/js/const';\nimport BreadCrumb from 'common/BreadCrumb';\nimport BackButton from 'common/BackButton';\nimport ConfigContext, { ConfigProps } from 'common/context/ConfigContext';\n\ninterface MatchParams {\n  id: string;\n  time: string;\n}\n\nconst RePlay: React.FC<RouteComponentProps<MatchParams>> = (props: RouteComponentProps<MatchParams>) => {\n  // eslint-disable-next-line react/prop-types\n  // const id = props.match.params.id;\n  // eslint-disable-next-line react/prop-types\n  const time: string = props.match.params.time;\n  const tmpEndTime = momentFormatData(time, false, TIME_INTERVAL);\n  const config: ConfigProps = React.useContext(ConfigContext);\n  console.info('config:', config);\n\n  console.log('newTime', tmpEndTime);\n  const startTime = time;\n  const endTime = tmpEndTime;\n  return (\n    <div>\n      <BreadCrumb\n        breadcrumbList={[\n          {\n            isLink: true,\n            name: '录像列表',\n            href: '/#/',\n          },\n          {\n            isLink: false,\n            name: '录像回放',\n          },\n        ]}\n      />\n      <div className=\"content\">\n        <div className=\"page-title\">\n          录像回看\n          <div className=\"back-button\">\n            <BackButton href={`/`} text=\"返回列表\" />\n          </div>\n        </div>\n        <div className=\"video-replay\">\n          <div className=\"time\">\n            <label>时间:</label>\n            <br /> {momentFormatData(time, false, 8 * 3600)}\n          </div>\n          <div className=\"time\">\n            <label>时长:</label> {TIME_INTERVAL / 60} 分钟\n          </div>\n          <ReactPlayer\n            autoPlay\n            height=\"auto\"\n            width=\"100%\"\n            controls\n            url={`${config.address}?start=${startTime}&end=${endTime}`}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RePlay;\n","export default __webpack_public_path__ + \"static/media/logo.e2a890e1.svg\";","import { useEffect } from 'react';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\n\nconst ScrollToTop: React.FC<RouteComponentProps> = ({ history }) => {\n  useEffect(() => {\n    const unlisten = history.listen(() => {\n      window.scrollTo(0, 0);\n    });\n    return () => {\n      unlisten();\n    };\n  }, []);\n\n  return null;\n};\n\nexport default withRouter(ScrollToTop);\n","import React, { useState, useEffect } from 'react';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\n\nimport LanguageIcon from '@material-ui/icons/Language';\nimport FeedbackIcon from '@material-ui/icons/Feedback';\n\n// import DeviceList from 'pages/device/DeviceList';\nimport Search from 'pages/search/Search';\nimport RePlay from 'pages/replay/RePlay';\n// import LiveVideo from 'pages/live/LiveVideo';\nimport axios from 'axios';\n\nimport logo from 'assets/images/logo.svg';\n\nimport NotificationsNoneIcon from '@material-ui/icons/NotificationsNone';\n\nimport ScrollToTop from 'hooks/ScrollToTop';\nimport DataLoading from 'common/Loading';\nimport ConfigContext from './common/context/ConfigContext';\n\n// loading component for suspense fallback\nconst Loader = () => {\n  // console.info(\"window.location:\", JSON.parse(JSON.stringify(window.location)));\n  return (\n    <div className=\"App\">\n      <div className=\"app-loading\">\n        <DataLoading />\n        Data Transfer Hub is loading...\n      </div>\n    </div>\n  );\n};\n\nconst App: React.FC = () => {\n  const [loadingConfig, setLoadingConfig] = useState(true);\n  const [appConfig, setAppConfig] = useState({ address: '' });\n\n  useEffect(() => {\n    setLoadingConfig(true);\n    const timeStamp = new Date().getTime();\n    axios.get('/aws-exports.json?timeStamp=' + timeStamp).then((res) => {\n      setLoadingConfig(false);\n      setAppConfig(res.data);\n    });\n  }, []);\n\n  if (loadingConfig) {\n    return <Loader />;\n  }\n\n  return (\n    <ConfigContext.Provider value={appConfig}>\n      <div className=\"App\">\n        <div className=\"ipc-header\">\n          <div className=\"logo\">\n            <img width=\"20\" src={logo} />\n            智能摄像头演示\n          </div>\n          {/* <div className=\"user\">\n          <a href=\"/#/live\">Live</a>\n        </div> */}\n          <div className=\"user\">\n            <NotificationsNoneIcon fontSize=\"small\" />\n          </div>\n          <div className=\"user\">User</div>\n        </div>\n        <div className=\"ipc-body\">\n          <HashRouter>\n            <ScrollToTop />\n            <Switch>\n              <Route exact path=\"/\" component={Search} />\n              {/* <Route exact path=\"/live\" component={LiveVideo} />\n            <Route exact path=\"/search/:id\" component={Search} /> */}\n              <Route exact path=\"/play/:id/:time\" component={RePlay} />\n            </Switch>\n          </HashRouter>\n        </div>\n        <div className=\"ipc-footer\">\n          <div className=\"item\">\n            <FeedbackIcon fontSize=\"small\" className=\"icon\" />\n            Feedback\n          </div>\n          <div className=\"item\">\n            <LanguageIcon fontSize=\"small\" className=\"icon\" />\n            简体中文\n          </div>\n        </div>\n      </div>\n    </ConfigContext.Provider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}